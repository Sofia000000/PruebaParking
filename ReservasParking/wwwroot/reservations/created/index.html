<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="card">
        <div class="card-header">
            Featured
        </div>
        <div class="card-body">
            <h5 class="card-title">Tu orden se ha creado con exito</h5>
            <p class="card-text fw-bold">Hora de entrada:</p>
            <p id="entry"></p>
            <p class="card-text fw-bold">Hora de salida:</p>
            <p id="left"></p>
            <p class="card-text fw-bold">Parking numero:</p>
            <p id="parking"></p>
            <h3 class="fw-bold">5 EUR</h3>
            <a href="/reservations" class="btn btn-primary">Ver historial</a>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.7/axios.min.js" integrity="sha512-DdX/YwF5e41Ok+AI81HI8f5/5UsoxCVT9GKYZRIzpLxb8Twz4ZwPPX+jQMwMhNQ9b5+zDEefc+dcvQoPWGNZ3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>

        const urlParams = new URLSearchParams(window.location.search);
        const id = parseInt(urlParams.get('id'))
        console.log(id)

        async function getReservation() {
            const res = await axios.get(`/api/reservations/getall`)

            res.data.forEach((x) => {
                console.log(x)
                if (x.id == id) {
                    document.getElementById("entry").innerText = x.entry_hour
                    document.getElementById("left").innerText = x.left_hour
                    document.getElementById("parking").innerText = x.parking_id
                }
            })
        }

        getReservation()
        
    </script>
</body>
</html>